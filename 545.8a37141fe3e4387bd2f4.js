"use strict";(self.webpackChunkng_fundamentals=self.webpackChunkng_fundamentals||[]).push([[545],{545:(A,c,a)=>{a.r(c),a.d(c,{ProfileModule:()=>T});var s=a(583),r=a(665),m=a(353),e=a(639),f=a(500);function d(t,l){1&t&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}function g(t,l){1&t&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}let Z=(()=>{class t{constructor(o,n){this.authService=o,this.router=n}onSubmit(o){this.authService.loginUser(o.username,o.password),this.router.navigate(["events"])}cancel(){this.router.navigate(["events"])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.e),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:20,vars:3,consts:[[1,"col-md-4"],["autocomplete","off",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["for","userName"],[4,"ngIf"],["id","userName","type","text","placeholder","User Name...","name","username",1,"form-control",3,"ngModel"],["for","password"],["id","password","type","password","placeholder","Password...","name","password",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-default",3,"click"]],template:function(o,n){if(1&o){const i=e.EpF();e.TgZ(0,"h1"),e._uU(1,"Login"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0),e.TgZ(4,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(i);const C=e.MAs(5);return n.onSubmit(C.value)}),e.TgZ(6,"div",3),e.TgZ(7,"label",4),e._uU(8,"User Name:"),e.qZA(),e.YNc(9,d,2,0,"em",5),e.TgZ(10,"input",6),e.NdJ("ngModel",function(){return n.username}),e.qZA(),e.qZA(),e.TgZ(11,"div",3),e.TgZ(12,"label",7),e._uU(13,"Password:"),e.qZA(),e.YNc(14,g,2,0,"em",5),e.TgZ(15,"input",8),e.NdJ("ngModel",function(){return n.password}),e.qZA(),e.qZA(),e.TgZ(16,"button",9),e._uU(17," Login "),e.qZA(),e.TgZ(18,"button",10),e.NdJ("click",function(){return n.cancel()}),e._uU(19," Cancel "),e.qZA(),e.qZA(),e.qZA()}if(2&o){const i=e.MAs(5);e.xp6(9),e.Q6J("ngIf",null==i||null==i.controls||null==i.controls.username?null:i.controls.username.invalid),e.xp6(5),e.Q6J("ngIf",null==i||null==i.controls||null==i.controls.password?null:i.controls.password.invalid),e.xp6(2),e.Q6J("disabled",i.form.invalid)}},directives:[r._Y,r.JL,r.F,s.O5,r.Fj,r.JJ,r.On],encapsulation:2}),t})();function N(t,l){1&t&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}function v(t,l){1&t&&(e.TgZ(0,"em"),e._uU(1,"Must start with letter"),e.qZA())}function _(t,l){1&t&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}const p=function(t){return{error:t}},h=[{path:"profile",component:(()=>{class t{constructor(o,n){this.authService=o,this.router=n}ngOnInit(){this.firstName=new r.NI(this.authService.currentUser.firstName,[r.kI.required,r.kI.pattern("[a-zA-Z].*")]),this.lastName=new r.NI(this.authService.currentUser.lastName,r.kI.required),this.profileForm=new r.cw({firstName:this.firstName,lastName:this.lastName})}saveProfile(o){this.profileForm.valid&&(this.authService.updateCurrentUser(o.firstName,o.lastName),this.router.navigate(["events"]))}cancel(){this.router.navigate(["events"])}validateFirstName(){return this.firstName.invalid||this.firstName.touched}validateLastName(){return this.lastName.invalid||this.lastName.touched}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.e),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:21,vars:10,consts:[[1,"col-md-4"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],[4,"ngIf"],["id","firstName","type","text","placeholder","First Name...","formControlName","firstName",1,"form-control",3,"ngClass"],["for","lastName"],["id","lastName","type","text","placeholder","Last Name...","formControlName","lastName",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div"),e.TgZ(1,"h1"),e._uU(2,"Edit Your Profile"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",0),e.TgZ(5,"form",1),e.NdJ("ngSubmit",function(){return n.saveProfile(n.profileForm.value)}),e.TgZ(6,"div",2),e.TgZ(7,"label",3),e._uU(8,"First Name:"),e.qZA(),e.YNc(9,N,2,0,"em",4),e.YNc(10,v,2,0,"em",4),e._UZ(11,"input",5),e.qZA(),e.TgZ(12,"div",2),e.TgZ(13,"label",6),e._uU(14,"Last Name:"),e.qZA(),e.YNc(15,_,2,0,"em",4),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"button",8),e._uU(18,"Save"),e.qZA(),e.TgZ(19,"button",9),e.NdJ("click",function(){return n.cancel()}),e._uU(20," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(5),e.Q6J("formGroup",n.profileForm),e.xp6(4),e.Q6J("ngIf",n.validateFirstName()&&(null==n.profileForm.controls.firstName.errors?null:n.profileForm.controls.firstName.errors.required)),e.xp6(1),e.Q6J("ngIf",n.validateFirstName()&&(null==n.profileForm.controls.firstName.errors?null:n.profileForm.controls.firstName.errors.pattern)),e.xp6(1),e.Q6J("ngClass",e.VKq(6,p,n.validateFirstName())),e.xp6(4),e.Q6J("ngIf",n.validateLastName()),e.xp6(1),e.Q6J("ngClass",e.VKq(8,p,n.validateLastName())))},directives:[r._Y,r.JL,r.sg,s.O5,r.Fj,r.JJ,r.u,s.mk],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}.error[_ngcontent-%COMP%]{background-color:#e3c3c5}"]}),t})()},{path:"login",component:Z}];let T=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[s.ez,m.Bz.forChild(h),r.u5,r.UX]]}),t})()}}]);